<!DOCTYPE html>
<html lang="en" ng-app="TrailApp">
  <head>
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/css/main.css">
    <meta name="viewport" content="initial-scale=1"/>
  </head>
  <body ng-controller="MainCtrl" layout="row" ng-cloak class="ng-cloak">
    <!-- Sidebar template -->
    <md-sidenav class="md-sidenav-left md-whiteframe-z2" tabindex="-1" id='md-sidenav-style' md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">
      <md-toolbar>
        <!-- TO-DO: add a close button -->
        <h1 class="md-toolbar-tools filters">
          OKR Results
        </h1>
      </md-toolbar>
      <md-content layout-padding>
        <p hide-md show-gt-md>
          <div trail-dropdown>
            <md-button class="md-title filter-member">
              Filter by label
              <span style="float: right"><i class="fa fa-angle-up"></i></span>
            </md-button>
            <div class="trail-list menu-toggle-list" style="height: 0">
              <div>
                <md-checkbox ng-repeat="label in allCardLabels | orderBy: label" ng-model='selected' ng-change="filterLabel(label, selected)" class="label-name">{{label}}</md-checkbox>
              </div>
            </div>
          </div>
        </p>
        <md-divider></md-divider>
        <p hide-md show-gt-md>
          <div trail-dropdown>
            <md-button class="md-title filter-member">
              Filter by member
              <span style="float: right"><i class="fa fa-angle-up"></i></span>
            </md-button>
            <div class="trail-list menu-toggle-list" style="height: 0">
              <div>
                <md-input-container flex>
                  <label>Search for members</label>
                  <input ng-model="search">
                </md-input-container>
                <md-checkbox  ng-repeat="member in allCardMembers | filter:search | orderBy: 'name'" ng-model='selected' ng-change="filterMember(member.id, selected)" class="member-name">{{member.name}}</md-checkbox>
              </div>
            </div>
          </div>
        </p>
      </md-content>
    </md-sidenav>
    <div layout="column" tabindex="-1" role="main" class="contents" flex>
      <div layout="row" flex>
        <div layout="column" flex id="content">
          <!-- list template -->
          <ng-include src="'./partials/lists.tmpl.html'"></ng-include>
        </div>
      </div>
    </div>

    <!-- Angular Material Dependencies -->
    <!-- The client library requires jQuery  -->
    <script src="//code.jquery.com/jquery-1.7.1.min.js"></script>
    <script src="//api.trello.com/1/client.js?key=856a958ea5314dd93e14e7602783fc7c"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angular_material/0.9.4/angular-material.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/3.9.3/lodash.min.js"></script>
    <script src="/js/app.js"></script>
    <script src="/js/trello.service.js"></script>
    <script src="/js/card.filter.js"></script>
    <script src="/js/dropdown.directive.js"></script>
  </body>
</html>
